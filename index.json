[{"content":"Golang ç°¡æ˜“èŠå¤©å®¤ f416720001/simple_chat\né€™å‘¨æœ«å­¸ç¿’äº†èˆ‡MongoDBï¼Œä½¿ç”¨äº† mgoã€mongo-go-driver é€™å…©å€‹å¥—ä»¶å»å­¸ç¿’ï¼Œä½†\u0026hellip;ä¸Šæ‰‹é‚„éœ€è¦ä¸€é™£å­ï¼Œå¤ªä¹…æ²’ä½¿ç”¨å¼·å‹åˆ¥ï¼Œå¾ˆå¤šåœ°æ–¹éƒ½é‚„éœ€è¦é©æ‡‰ã€‚\næ‰€ä»¥ï¼Œé€™æ¬¡å…ˆå¸¶ä¾† Go into Web!-iThome ä¸Šæ‰€åˆ†äº«çš„å°å°ˆæ¡ˆä¾†é€²è¡Œå­¸ç¿’ï¼Œä¹Ÿèƒ½æ›´å¿«å»ç†Ÿæ‚‰èªæ³•åŠdebugã€buildã€logç­‰é–‹ç™¼æŠ€å·§ï¼Œè©±ä¸å¤šèªªï¼Œè®“æˆ‘å€‘é–‹å§‹å§ã€‚\nçŸ¥è­˜é»å€‘ melody https://github.com/olahol/melody Minimalist websocket framework for Go\næ˜¯ä¸€å€‹2018å¹´å·²ç¶“æ£„å‘(å–‚~)çš„ websocket frameworkï¼Œæ˜¯ based on gorilla/websocket ä¸Šå°è£çš„ä¸€å€‹ packageï¼Œæ›´å®¹æ˜“ä½¿ç”¨ï¼Œä»¥å¤–å¦‚æœè¦æ‰¾é‚„æœ‰åœ¨ç¶­è­·ã€Staré‚„å¤ å¤šçš„messaging server å¯ä»¥åƒè€ƒ centrifugal/centrifugo\nå›åˆ°æ­£é¡Œï¼Œè€Œå› ç‚ºå®ƒæ˜¯ websocket æ¡†æ¶ï¼Œç¶²ç«™çš„éœæ…‹æ–‡ä»¶é‚„æ˜¯å¾—æ‰¾å€‹äººä¾†å¹«å¿™æ›è¼‰ï¼Œåœ¨ melody çš„å®˜æ–¹æ•™å­¸æ–‡ä»¶ä¸Šï¼Œå°±æ˜¯èˆ‡ gin ä¸€èµ·é…åˆï¼Œå°±è®“æˆ‘å€‘ä¾†çœ‹çœ‹ä»¥ä¸‹çš„ code~\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 package main import ( \u0026#34;github.com/gin-gonic/gin\u0026#34; \u0026#34;gopkg.in/olahol/melody.v1\u0026#34; \u0026#34;net/http\u0026#34; ) func main() { // å¯¦ä¾‹ ginã€melody r := gin.Default() m := melody.New() // æŠŠindex.htmlæ›è¼‰åˆ° / r.GET(\u0026#34;/\u0026#34;, func(c *gin.Context) { http.ServeFile(c.Writer, c.Request, \u0026#34;index.html\u0026#34;) }) // melody\u0026#39;s websocket å‰‡æ˜¯æ›è¼‰åˆ° /ws r.GET(\u0026#34;/ws\u0026#34;, func(c *gin.Context) { // ginçš„ response èˆ‡ request è½‰æ‰‹äº¤çµ¦ melody å» handle m.HandleRequest(c.Writer, c.Request) }) // é‚£éº¼ melody é€é handlemessageï¼Œç•¶ message é€²ä¾†æ™‚è©²å¦‚ä½•è™•ç†ï¼Œé€™é‚Šçš„å¯«æ³•æ˜¯ï¼Œæœ‰è¨Šæ¯é€²ä¾†å°‡æœƒå‘ŠçŸ¥æ‰€æœ‰ sessions m.HandleMessage(func(s *melody.Session, msg []byte) { m.Broadcast(msg) }) // melody handleconnect ä½¿ç”¨è€…é€£ç·šï¼Œé€™é‚Šæˆ‘å€‘å®šç¾©websocketé€£ç·šç¶²å€é•·å¾—åƒ // ws://localhost:5000/ws?id=Guest755 m.HandleConnect(func(session *melody.Session) { // å–å¾—urlä¸Šçš„param id // := å†’è™Ÿè³¦å€¼ï¼Œä¸ç”¨é å…ˆå®šç¾©ç›´æ¥è³¦å€¼ id := session.Request.URL.Query().Get(\u0026#34;id\u0026#34;) // å»£æ’­æ–°çš„Messageï¼Œé€™é‚Šæœ‰å€‹ GetByteMessage æœƒåš JSON encoding m.Broadcast(NewMessage(\u0026#34;other\u0026#34;, id, \u0026#34;åŠ å…¥èŠå¤©å®¤\u0026#34;).GetByteMessage()) }) // melody handleconnect ä½¿ç”¨è€…é›¢é–‹å¾Œï¼Œå‚³è¨Šæ¯é€šçŸ¥å…¶ä»–ä½¿ç”¨è€… m.HandleClose(func(session *melody.Session, i int, s string) error { id := session.Request.URL.Query().Get(\u0026#34;id\u0026#34;) m.Broadcast(NewMessage(\u0026#34;other\u0026#34;, id, \u0026#34;é›¢é–‹èŠå¤©å®¤\u0026#34;).GetByteMessage()) return nil }) // gin server run on port 5000 r.Run(\u0026#34;:5000\u0026#34;) } Struct çµæ§‹è³‡æ–™ éå¸¸åƒC++çš„structï¼Œæˆ‘ç›®å‰ä½¿ç”¨èµ·ä¾†å¯ä»¥èªªæ˜¯ä¸€æ¨¡ä¸€æ¨£ï¼Œå¯ä»¥å®šç¾©ä¸€çµæ§‹åŒ–çš„è³‡æ–™ï¼Œä½¿ç”¨å·²ç¶“å®šç¾©å¥½çš„Structæ–¹å¼å¦‚ä¸‹: Message{Event: \u0026quot;ABC\u0026quot;, Name: \u0026quot;ABC\u0026quot;, Content: \u0026quot;ABC\u0026quot;, TimeStamp: time.Now()}\nçœ‹èµ·ä¾†æœ‰é»ç¹ç‘£å§ï¼Œé€™é‚Šæä¾›ä¸€å€‹func NewMessageï¼Œå°‡ä¸€äº›param mappingåˆ°å®šç¾©å¥½çš„structï¼Œå¯ä»¥æ›´æ–¹ä¾¿çš„ä½¿ç”¨ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 type Message struct { Event string `json:\u0026#34;event\u0026#34;` Name string `json:\u0026#34;name\u0026#34;` Content string `json:\u0026#34;content\u0026#34;` TimeStamp time.Time `json:\u0026#34;timestamp\u0026#34;` } func NewMessage(event, name, content string) *Message { return \u0026amp;Message{ Event: event, Name: name, Content: content, TimeStamp: time.Now(), } } func (m *Message) GetByteMessage() []byte { result, _ := json.Marshal(m) return result } ","permalink":"https://f416720001.github.io/posts/go-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98-vol.1/","summary":"Golang ç°¡æ˜“èŠå¤©å®¤ f416720001/simple_chat\né€™å‘¨æœ«å­¸ç¿’äº†èˆ‡MongoDBï¼Œä½¿ç”¨äº† mgoã€mongo-go-driver é€™å…©å€‹å¥—ä»¶å»å­¸ç¿’ï¼Œä½†\u0026hellip;ä¸Šæ‰‹é‚„éœ€è¦ä¸€é™£å­ï¼Œå¤ªä¹…æ²’ä½¿ç”¨å¼·å‹åˆ¥ï¼Œå¾ˆå¤šåœ°æ–¹éƒ½é‚„éœ€è¦é©æ‡‰ã€‚\næ‰€ä»¥ï¼Œé€™æ¬¡å…ˆå¸¶ä¾† Go into Web!-iThome ä¸Šæ‰€åˆ†äº«çš„å°å°ˆæ¡ˆä¾†é€²è¡Œå­¸ç¿’ï¼Œä¹Ÿèƒ½æ›´å¿«å»ç†Ÿæ‚‰èªæ³•åŠdebugã€buildã€logç­‰é–‹ç™¼æŠ€å·§ï¼Œè©±ä¸å¤šèªªï¼Œè®“æˆ‘å€‘é–‹å§‹å§ã€‚\nçŸ¥è­˜é»å€‘ melody https://github.com/olahol/melody Minimalist websocket framework for Go\næ˜¯ä¸€å€‹2018å¹´å·²ç¶“æ£„å‘(å–‚~)çš„ websocket frameworkï¼Œæ˜¯ based on gorilla/websocket ä¸Šå°è£çš„ä¸€å€‹ packageï¼Œæ›´å®¹æ˜“ä½¿ç”¨ï¼Œä»¥å¤–å¦‚æœè¦æ‰¾é‚„æœ‰åœ¨ç¶­è­·ã€Staré‚„å¤ å¤šçš„messaging server å¯ä»¥åƒè€ƒ centrifugal/centrifugo\nå›åˆ°æ­£é¡Œï¼Œè€Œå› ç‚ºå®ƒæ˜¯ websocket æ¡†æ¶ï¼Œç¶²ç«™çš„éœæ…‹æ–‡ä»¶é‚„æ˜¯å¾—æ‰¾å€‹äººä¾†å¹«å¿™æ›è¼‰ï¼Œåœ¨ melody çš„å®˜æ–¹æ•™å­¸æ–‡ä»¶ä¸Šï¼Œå°±æ˜¯èˆ‡ gin ä¸€èµ·é…åˆï¼Œå°±è®“æˆ‘å€‘ä¾†çœ‹çœ‹ä»¥ä¸‹çš„ code~\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 package main import ( \u0026#34;github.","title":"Go-å­¸ç¿’ç­†è¨˜ vol.1"},{"content":" å‰è¨€ è¿‘æœŸåœ¨å…¬å¸æ¥è§¸åˆ°å…¶ä»–åœ˜éšŠçš„C++å°ˆæ¡ˆï¼Œé‡åˆ°èˆ‡å…¶ä»–èªè¨€(GO)/ç³»çµ±ä¸²æ¥çš„æƒ…æ³ã€‚ æœ‰äººæè­°å°‡ä½¿ç”¨ stdin è®“å…©å€‹èªè¨€åšæºé€š(å¯¦éš›æ•ˆæœä¹Ÿä¸éŒ¯ï¼Œä¸‹æ¬¡å†åˆ†äº«)ï¼Œ ä½†ç¿’æ…£ä½¿ç”¨webapiçš„æˆ‘ï¼Œçªç„¶ç™¼è¦ºè‡ªå·±ä¸æ›¾ä½¿ç”¨écppå»æ¶è¨­éapi\u0026hellip; æ–¼æ˜¯å°±æœ‰äº†é€™ç¯‡ é€±æœ«é–’ä¾†ç„¡äº‹ï¼Œgoogleäº†ä¸€ä¸‹ï¼Œæ‰¾åˆ° github ä¸Šæ“æœ‰ 7.6k stars çš„ cpp-httplibã€‚ å¼•ç”¨æ™‚ä¹Ÿå¾ˆæ–¹ä¾¿ï¼Œç›´æ¥å°‡ httplib.h æ‹‰é€²è‡ªå·±çš„å°ˆæ¡ˆå…§å°±å¯ä»¥ä½¿ç”¨ï¼ŒçœŸèˆ’çˆ½!\nLibrary httplib ğŸ”— A C++11 single-file header-only cross platform HTTP/HTTPS library. It\u0026rsquo;s extremely easy to setup. Just include the httplib.h file in your code!\nNOTE: This library uses \u0026lsquo;blocking\u0026rsquo; socket I/O. If you are looking for a library with \u0026rsquo;non-blocking\u0026rsquo; socket I/O, this is not the one that you want.\né–‹é ­å°±æåŠï¼Œæ­¤ library æ˜¯ blocking socket I/Oï¼Œå°æ–¼ I/O å¯†é›†çš„ api å¯èƒ½å°±ä¸å¤ªé©åˆäº†ã€‚\nç°¡æ˜“ç¯„ä¾‹ NOTE: è¨˜å¾—å»ºä¸€å€‹è³‡æ–™å¤¾ libï¼Œå°‡ httplib.h æ”¾é€²å»ï¼Œé€™æ¨£å°±å¯ä»¥ä½¿ç”¨äº†ï¼ŒçœŸæ˜¯æ–¹ä¾¿å‘¢!!\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 // main.cpp #include \u0026lt;stdio.h\u0026gt; #include \u0026lt;iostream\u0026gt; #include \u0026#34;lib/httplib.h\u0026#34; using namespace httplib; void hello_world(const Request\u0026amp; req,Response\u0026amp; resp) { printf(\u0026#34;%s [%s] %s, %s, %s %i \\n\u0026#34;, ctime(\u0026amp;my_time), req.method.c_str(), req.path.c_str(), req.remote_addr.c_str(), req.version.c_str(), req.remote_port); resp.set_content(\u0026#34;\u0026lt;html\u0026gt;\u0026lt;h1\u0026gt;Hello world.\u0026lt;/h1\u0026gt;\u0026lt;/html\u0026gt;\u0026#34;,\u0026#34;text/html\u0026#34;); } int main() { Server svr; svr.Get(\u0026#34;/api/hello\u0026#34;, hello_world); svr.listen(\u0026#34;0.0.0.0\u0026#34;, 8000); system(\u0026#34;pause\u0026#34;); return 0; } è¼¸å…¥ g++ -g main.cpp -o svr -lpthread \u0026amp;\u0026amp; ./svr ç·¨è­¯ä¸¦åŸ·è¡Œ\n(å¦‚æœæ²’å®‰è£ g++)\n1 2 sudo apt update sudo apt install g++ å®‰è£å®Œæˆæ¸¬è©¦ä¸€ä¸‹\n1 2 3 4 5 6 g++ --version \u0026gt;\u0026gt;\u0026gt; g++ (Ubuntu 9.4.0-1ubuntu1~20.04.1) 9.4.0 Copyright (C) 2019 Free Software Foundation, Inc. This is free software; see the source for copying conditions. There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. æœ€å¾Œä½¿ç”¨ç€è¦½å™¨é–‹å•Ÿ localhost:8000/api/hello å³å¯çœ‹åˆ° Hello world.\nnlohmann/json ğŸ”— based on c++11\nä½¿ç”¨ç¯„ä¾‹ NOTE: å°‡ json.hpp æ”¾é€² ./lib ç•¶ä¸­ï¼Œå³å¯ä½¿ç”¨ï¼Œä¹Ÿæ˜¯å¾ˆæ–¹ä¾¿çš„~\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 #include \u0026lt;lib/json.hpp\u0026gt; using json = nlohmann::json; void json_callback(const Request\u0026amp; req, Response\u0026amp; resp) { json result{ {\u0026#34;msg\u0026#34;, \u0026#34;ok\u0026#34;}, {\u0026#34;zh-tw\u0026#34;, \u0026#34;ä½ å¥½\u0026#34;}, {\u0026#34;data\u0026#34;, 123}}; resp.set_content(result.dump(), \u0026#34;text/plain\u0026#34;); } int main() { Server svr; svr.Get(\u0026#34;/api/json\u0026#34;, json_callback); svr.listen(\u0026#34;0.0.0.0\u0026#34;, 8000); system(\u0026#34;pause\u0026#34;); return 0; } æœ€å¾Œä½¿ç”¨ç€è¦½å™¨é–‹å•Ÿ localhost:8000/api/json å³å¯çœ‹åˆ° Hello world.\nä»¥ä¸Šå°±æ˜¯é€™æ¬¡çš„ç°¡æ˜“æ•™å­¸ï¼Œç›¸é—œcodeæœ‰æ”¾ç½®åœ¨ github-demoï¼Œå¯ä»¥git clone ä¸‹ä¾†æŠŠç©ã€‚\n","permalink":"https://f416720001.github.io/posts/cpp%E7%B0%A1%E6%98%93api%E6%95%99%E5%AD%B8/","summary":"å‰è¨€ è¿‘æœŸåœ¨å…¬å¸æ¥è§¸åˆ°å…¶ä»–åœ˜éšŠçš„C++å°ˆæ¡ˆï¼Œé‡åˆ°èˆ‡å…¶ä»–èªè¨€(GO)/ç³»çµ±ä¸²æ¥çš„æƒ…æ³ã€‚ æœ‰äººæè­°å°‡ä½¿ç”¨ stdin è®“å…©å€‹èªè¨€åšæºé€š(å¯¦éš›æ•ˆæœä¹Ÿä¸éŒ¯ï¼Œä¸‹æ¬¡å†åˆ†äº«)ï¼Œ ä½†ç¿’æ…£ä½¿ç”¨webapiçš„æˆ‘ï¼Œçªç„¶ç™¼è¦ºè‡ªå·±ä¸æ›¾ä½¿ç”¨écppå»æ¶è¨­éapi\u0026hellip; æ–¼æ˜¯å°±æœ‰äº†é€™ç¯‡ é€±æœ«é–’ä¾†ç„¡äº‹ï¼Œgoogleäº†ä¸€ä¸‹ï¼Œæ‰¾åˆ° github ä¸Šæ“æœ‰ 7.6k stars çš„ cpp-httplibã€‚ å¼•ç”¨æ™‚ä¹Ÿå¾ˆæ–¹ä¾¿ï¼Œç›´æ¥å°‡ httplib.h æ‹‰é€²è‡ªå·±çš„å°ˆæ¡ˆå…§å°±å¯ä»¥ä½¿ç”¨ï¼ŒçœŸèˆ’çˆ½!\nLibrary httplib ğŸ”— A C++11 single-file header-only cross platform HTTP/HTTPS library. It\u0026rsquo;s extremely easy to setup. Just include the httplib.h file in your code!\nNOTE: This library uses \u0026lsquo;blocking\u0026rsquo; socket I/O. If you are looking for a library with \u0026rsquo;non-blocking\u0026rsquo; socket I/O, this is not the one that you want.\né–‹é ­å°±æåŠï¼Œæ­¤ library æ˜¯ blocking socket I/Oï¼Œå°æ–¼ I/O å¯†é›†çš„ api å¯èƒ½å°±ä¸å¤ªé©åˆäº†ã€‚","title":"Cppç°¡æ˜“apiæ•™å­¸"},{"content":" ä¾†æº:https://css-tricks.com/the-trick-to-viewport-units-on-mobile/\nåœ¨ JavaScript ä¸­ï¼Œå¯ä»¥é€šéä½¿ç”¨ window.innerHeight ä¾†å–å¾—ç›®å‰é¡¯ç¤ºç•«é¢çš„å€¼ã€‚è©²å€¼æœƒåŒ…å«ç€è¦½å™¨çš„ç•Œé¢ï¼Œä¸¦æœƒéš¨è‘—ä»‹é¢è®ŠåŒ–å»åšæ›´æ–°ã€‚æ‰€ä»¥æ­¤æ¬¡çš„è¨£ç«…ï¼Œæ˜¯å°‡ window.innerHeight å€¼å­˜åœ¨ CSS è®Šæ•¸ä¸­ï¼Œä¸¦å°‡è©²å€¼ç”¨ä¾†å–ä»£ vh çš„åŸºæœ¬å–®ä½ã€‚\nCSS 1 2 3 4 #map { height: calc(100vh - 84px); height: calc((var(--vh, 1vh) * 100) - 84px); } JavaScript 1 2 3 let vh = window.innerHeight * 0.01; // Then we set the value in the --vh custom property to the root of the document document.documentElement.style.setProperty(\u0026#34;--vh\u0026#34;, `${vh}px`); ","permalink":"https://f416720001.github.io/posts/%E6%89%8B%E6%A9%9F%E7%B6%B2%E9%A0%81100vh-v.s.-%E7%B6%B2%E5%9D%80%E5%88%97/","summary":" ä¾†æº:https://css-tricks.com/the-trick-to-viewport-units-on-mobile/\nåœ¨ JavaScript ä¸­ï¼Œå¯ä»¥é€šéä½¿ç”¨ window.innerHeight ä¾†å–å¾—ç›®å‰é¡¯ç¤ºç•«é¢çš„å€¼ã€‚è©²å€¼æœƒåŒ…å«ç€è¦½å™¨çš„ç•Œé¢ï¼Œä¸¦æœƒéš¨è‘—ä»‹é¢è®ŠåŒ–å»åšæ›´æ–°ã€‚æ‰€ä»¥æ­¤æ¬¡çš„è¨£ç«…ï¼Œæ˜¯å°‡ window.innerHeight å€¼å­˜åœ¨ CSS è®Šæ•¸ä¸­ï¼Œä¸¦å°‡è©²å€¼ç”¨ä¾†å–ä»£ vh çš„åŸºæœ¬å–®ä½ã€‚\nCSS 1 2 3 4 #map { height: calc(100vh - 84px); height: calc((var(--vh, 1vh) * 100) - 84px); } JavaScript 1 2 3 let vh = window.innerHeight * 0.01; // Then we set the value in the --vh custom property to the root of the document document.documentElement.style.setProperty(\u0026#34;--vh\u0026#34;, `${vh}px`); ","title":"æ‰‹æ©Ÿç¶²é 100vh v.s. ç¶²å€åˆ—"},{"content":"Mode Client mode Cluster mode å·®ç•°é» driver æ”¾ç½®çš„ä½ç½®\ndriveræ”¾ç½®æ–¼ Client Master Cluster Slave(Worker)å…¶ä¸­ä¸€å° å½±éŸ¿å±¤é¢ Memory è¨­å®š å•Ÿå‹•Jobæ™‚ï¼Œæ˜¯å¦è¦æŒ‡å®šmemoryçš„ä½¿ç”¨é‡\nMemoryè¨­å®š Client éƒ½å¯ Cluster æŒ‡å®šæ¯”è¼ƒå„ªï¼Œå› ç‚ºdriveré è¨­2GB æ©Ÿå™¨å£æ‰æ™‚å½±éŸ¿å±¤é¢ EC2å£æ‰å½±éŸ¿å±¤é¢ workerè¨˜æ†¶é«”é‡ Client åƒè¬ä¸èƒ½å£Masterï¼Œéœ€è¦é¡å¤–çš„é‡å•Ÿæµç¨‹ å„ª Cluster å£å¸¶æœ‰driverçš„workeræ™‚ï¼Œmasteræœƒå”åŠ©é‡å•Ÿ å°‘ å°çµè«– Client é©åˆä¸­å°å‹\né©åˆæƒ…å¢ƒ Client Master/Slave åœ¨åŒä¸€ç¶²è·¯å…§ Cluster Master/Slave åœ¨ä¸åŒç¶²è·¯å…§ ","permalink":"https://f416720001.github.io/posts/aws-emr-%E6%A8%A1%E5%BC%8F%E5%B7%AE%E7%95%B0/","summary":"Mode Client mode Cluster mode å·®ç•°é» driver æ”¾ç½®çš„ä½ç½®\ndriveræ”¾ç½®æ–¼ Client Master Cluster Slave(Worker)å…¶ä¸­ä¸€å° å½±éŸ¿å±¤é¢ Memory è¨­å®š å•Ÿå‹•Jobæ™‚ï¼Œæ˜¯å¦è¦æŒ‡å®šmemoryçš„ä½¿ç”¨é‡\nMemoryè¨­å®š Client éƒ½å¯ Cluster æŒ‡å®šæ¯”è¼ƒå„ªï¼Œå› ç‚ºdriveré è¨­2GB æ©Ÿå™¨å£æ‰æ™‚å½±éŸ¿å±¤é¢ EC2å£æ‰å½±éŸ¿å±¤é¢ workerè¨˜æ†¶é«”é‡ Client åƒè¬ä¸èƒ½å£Masterï¼Œéœ€è¦é¡å¤–çš„é‡å•Ÿæµç¨‹ å„ª Cluster å£å¸¶æœ‰driverçš„workeræ™‚ï¼Œmasteræœƒå”åŠ©é‡å•Ÿ å°‘ å°çµè«– Client é©åˆä¸­å°å‹\né©åˆæƒ…å¢ƒ Client Master/Slave åœ¨åŒä¸€ç¶²è·¯å…§ Cluster Master/Slave åœ¨ä¸åŒç¶²è·¯å…§ ","title":"AWS EMR æ¨¡å¼å·®ç•°"},{"content":"Docker Timezone æ™‚å€å•é¡Œ æ–¹æ³•ä¸€ï¼š å°‡æœ¬æ©Ÿçš„æ™‚é–“å¸¶åˆ° image ç•¶ä¸­ when docker run some-image\n1 -v /etc/localtime:/etc/localtime:ro docker-compsoe.yml\n1 2 3 4 5 services: some-container: volumes: - /etc/timezone:/etc/timezone:ro - /etc/localtime:/etc/localtime:ro æ–¹æ³•äºŒ(æ¨è–¦)ï¼š è¨­å®šç’°å¢ƒè®Šæ•¸ when docker run some-image\n1 -e \u0026#34;TZ=Asia/Taipei\u0026#34; docker-compose.yml\n1 2 3 4 sevices: some-container: environment: TZ: Asia/Taipei ä¾‹å¤– å¦‚æœä½¿ç”¨åˆ° alpine ç‰ˆæœ¬\nå‰‡éœ€è¦è‡ªè¡Œé‡æ–° build image\nDockerfile å…ˆæ·»åŠ ä»¥ä¸‹å…©è¡Œï¼Œå†é€²è¡Œä¸Šè¿°æ“ä½œ\n1 2 RUN apk update \u0026amp;\u0026amp; \\ apk add -U tzdata ","permalink":"https://f416720001.github.io/posts/docker-timezone-%E6%99%82%E5%8D%80%E5%95%8F%E9%A1%8C/","summary":"Docker Timezone æ™‚å€å•é¡Œ æ–¹æ³•ä¸€ï¼š å°‡æœ¬æ©Ÿçš„æ™‚é–“å¸¶åˆ° image ç•¶ä¸­ when docker run some-image\n1 -v /etc/localtime:/etc/localtime:ro docker-compsoe.yml\n1 2 3 4 5 services: some-container: volumes: - /etc/timezone:/etc/timezone:ro - /etc/localtime:/etc/localtime:ro æ–¹æ³•äºŒ(æ¨è–¦)ï¼š è¨­å®šç’°å¢ƒè®Šæ•¸ when docker run some-image\n1 -e \u0026#34;TZ=Asia/Taipei\u0026#34; docker-compose.yml\n1 2 3 4 sevices: some-container: environment: TZ: Asia/Taipei ä¾‹å¤– å¦‚æœä½¿ç”¨åˆ° alpine ç‰ˆæœ¬\nå‰‡éœ€è¦è‡ªè¡Œé‡æ–° build image\nDockerfile å…ˆæ·»åŠ ä»¥ä¸‹å…©è¡Œï¼Œå†é€²è¡Œä¸Šè¿°æ“ä½œ\n1 2 RUN apk update \u0026amp;\u0026amp; \\ apk add -U tzdata ","title":"Docker timezone æ™‚å€å•é¡Œ"},{"content":"é¡Œç›®: è®“ä»¥ä¸‹ function å›å‚³ True åŸæ–‡: https://www.reddit.com/r/Python/comments/cje5yh/short_python_challenge_make_this_return_true/\n1 2 3 4 5 6 def check(x): if x+1 is 1+x: return False if x+2 is not 2+x: return False return True è§£ç­”ä¸€: -7 åœ¨ Python ä¸­ï¼Œæ•´æ•° -5 åˆ° 256 æœƒé å…ˆåˆ†é…åˆ°è¨˜æ†¶é«”ï¼Œ\næ­¤æ™‚ -7 + 1 å¾—åˆ°çš„ -6ï¼Œæ°å¥½åœ¨é€™ç¯„åœä¹‹å¤–ï¼Œ\næ‰æœƒå‡ºç¾ -6 is not -6 çš„æƒ…æ³\nè§£ç­”äºŒ: è‡ªå®šç¾© class é€éå¯¦ç¾ addï¼Œè®“ä»–å¯ä»¥èˆ‡ integer äº’å‹•ï¼Œ ä½†å…¶å¯¦å°±æ˜¯æ‹¿ä¾†åˆ¤æ–· integer å¾Œï¼Œå›å‚³é©ç•¶çš„ boolean (æœ‰é»ä½œå¼Š XDD)\n1 2 3 4 5 6 class Test(int): def __add__(self, v): if v == 1: return 0 else: return v ","permalink":"https://f416720001.github.io/posts/python-%E8%85%A6%E7%AD%8B%E6%80%A5%E8%BD%89%E5%BD%8E/","summary":"é¡Œç›®: è®“ä»¥ä¸‹ function å›å‚³ True åŸæ–‡: https://www.reddit.com/r/Python/comments/cje5yh/short_python_challenge_make_this_return_true/\n1 2 3 4 5 6 def check(x): if x+1 is 1+x: return False if x+2 is not 2+x: return False return True è§£ç­”ä¸€: -7 åœ¨ Python ä¸­ï¼Œæ•´æ•° -5 åˆ° 256 æœƒé å…ˆåˆ†é…åˆ°è¨˜æ†¶é«”ï¼Œ\næ­¤æ™‚ -7 + 1 å¾—åˆ°çš„ -6ï¼Œæ°å¥½åœ¨é€™ç¯„åœä¹‹å¤–ï¼Œ\næ‰æœƒå‡ºç¾ -6 is not -6 çš„æƒ…æ³\nè§£ç­”äºŒ: è‡ªå®šç¾© class é€éå¯¦ç¾ addï¼Œè®“ä»–å¯ä»¥èˆ‡ integer äº’å‹•ï¼Œ ä½†å…¶å¯¦å°±æ˜¯æ‹¿ä¾†åˆ¤æ–· integer å¾Œï¼Œå›å‚³é©ç•¶çš„ boolean (æœ‰é»ä½œå¼Š XDD)\n1 2 3 4 5 6 class Test(int): def __add__(self, v): if v == 1: return 0 else: return v ","title":"Python è…¦ç­‹æ€¥è½‰å½"},{"content":" Docker-compose.yml ç„¡å¯†ç¢¼ï¼Œç„¡SSL\n1 2 3 4 5 6 7 8 9 10 11 12 version: \u0026#39;3\u0026#39; services: registry: image: registry:2.8.1 ports: - \u0026#34;21010:5000\u0026#34; environment: REGISTRY_STORAGE_FILESYSTEM_ROOTDIRECTORY: /data volumes: - ./auth:/auth - ./data:/data Chagne your images name 1 docker tag alpine localhost:21010/my-alpine Push it 1 docker push localhost:21010/my-alpine after all, 4. Pull your image from private registry\n1 docker pull localhost:21010/my-alpine Ref. https://gabrieltanner.org/blog/docker-registry/\n","permalink":"https://f416720001.github.io/posts/docker-private-registry%E6%90%AD%E5%BB%BA/","summary":"Docker-compose.yml ç„¡å¯†ç¢¼ï¼Œç„¡SSL\n1 2 3 4 5 6 7 8 9 10 11 12 version: \u0026#39;3\u0026#39; services: registry: image: registry:2.8.1 ports: - \u0026#34;21010:5000\u0026#34; environment: REGISTRY_STORAGE_FILESYSTEM_ROOTDIRECTORY: /data volumes: - ./auth:/auth - ./data:/data Chagne your images name 1 docker tag alpine localhost:21010/my-alpine Push it 1 docker push localhost:21010/my-alpine after all, 4. Pull your image from private registry\n1 docker pull localhost:21010/my-alpine Ref. https://gabrieltanner.org/blog/docker-registry/","title":"Docker private registryæ­å»º"},{"content":" å‰è¨€: 2020 å¹´ç¢©å£«æœŸé–“æ­å»ºäº† Hexo ä¾†è¨˜éŒ„æ‰€å­¸ï¼Œç•¶æ™‚å°æ–¼ npm å®¶æ—æ¯”è¼ƒç¿’æ…£ï¼Œè¿‘æœŸé–‹å§‹æ¥è§¸ golangï¼Œé †å‹¢ä¹ŸæŠŠè’å»¢çš„ blog æ¬ç§»éä¾†ï¼Œå¸Œæœ›æ¥ä¸‹ä¾†èƒ½å¤ æ•´ç†ä¸€äº›è¿‘æœŸ kafkaã€AWS EMRã€BigQuery æ‰€å­¸çš„çŸ¥è­˜\u0026hellip;\nHugo å®‰è£æœ€æ–°ç‰ˆæœ¬ å¦‚æœä½ ä¹Ÿåƒæˆ‘ä¸€æ¨£ï¼Œapt install hugo éƒ½å¡åœ¨ 0.68.0 å·¦å³çš„ç‰ˆæœ¬çš„è©±ï¼Œå¯ä»¥åƒè€ƒ é€™é‚Šæ˜¯ä½¿ç”¨ ubuntu 20.04ï¼Œè¦è¨˜å¾—æŒ‘ç¬¦åˆè‡ªå·± cpu ç‰ˆæœ¬çš„\n1. ç§»é™¤ apt æ‰€å®‰è£çš„ hugo 1 2 3 sudo apt update sudo apt install curl wget sudo apt remove hugo 2. ä¸‹è¼‰æœ€æ–° hugo.deb 1 2 3 4 5 6 curl -s https://api.github.com/repos/gohugoio/hugo/releases/latest \\ | grep browser_download_url \\ | grep Linux-64bit.deb \\ | grep -v extended \\ | cut -d \u0026#39;\u0026#34;\u0026#39; -f 4 \\ | wget -i - 3. å®‰è£ä»–ï¼Œæ”¹æˆä½ ä¸‹è¼‰çš„ filename 1 sudo dpkg -i hugo*_Linux-64bit.deb 4. å®Œå·¥ 1 hugo version ","permalink":"https://f416720001.github.io/posts/hugo-%E6%9C%80%E6%96%B0%E7%89%88%E6%90%AD%E5%BB%BA/","summary":"å‰è¨€: 2020 å¹´ç¢©å£«æœŸé–“æ­å»ºäº† Hexo ä¾†è¨˜éŒ„æ‰€å­¸ï¼Œç•¶æ™‚å°æ–¼ npm å®¶æ—æ¯”è¼ƒç¿’æ…£ï¼Œè¿‘æœŸé–‹å§‹æ¥è§¸ golangï¼Œé †å‹¢ä¹ŸæŠŠè’å»¢çš„ blog æ¬ç§»éä¾†ï¼Œå¸Œæœ›æ¥ä¸‹ä¾†èƒ½å¤ æ•´ç†ä¸€äº›è¿‘æœŸ kafkaã€AWS EMRã€BigQuery æ‰€å­¸çš„çŸ¥è­˜\u0026hellip;\nHugo å®‰è£æœ€æ–°ç‰ˆæœ¬ å¦‚æœä½ ä¹Ÿåƒæˆ‘ä¸€æ¨£ï¼Œapt install hugo éƒ½å¡åœ¨ 0.68.0 å·¦å³çš„ç‰ˆæœ¬çš„è©±ï¼Œå¯ä»¥åƒè€ƒ é€™é‚Šæ˜¯ä½¿ç”¨ ubuntu 20.04ï¼Œè¦è¨˜å¾—æŒ‘ç¬¦åˆè‡ªå·± cpu ç‰ˆæœ¬çš„\n1. ç§»é™¤ apt æ‰€å®‰è£çš„ hugo 1 2 3 sudo apt update sudo apt install curl wget sudo apt remove hugo 2. ä¸‹è¼‰æœ€æ–° hugo.deb 1 2 3 4 5 6 curl -s https://api.github.com/repos/gohugoio/hugo/releases/latest \\ | grep browser_download_url \\ | grep Linux-64bit.deb \\ | grep -v extended \\ | cut -d \u0026#39;\u0026#34;\u0026#39; -f 4 \\ | wget -i - 3.","title":"Hugo æœ€æ–°ç‰ˆæ­å»º"},{"content":"è·Œè·Œæ’æ’ Skill Pythonã€C++ã€Golangã€Vue.js\n","permalink":"https://f416720001.github.io/about/","summary":"è·Œè·Œæ’æ’ Skill Pythonã€C++ã€Golangã€Vue.js","title":"About"}]